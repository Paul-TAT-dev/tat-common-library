{"version":3,"file":"dropdown-Dropdown-stories.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC5EA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA;AACA;AAEA;AAkBA;AAUA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;AAGA;AAGA;AAAA;;;;;;AAEA;AACA;AAAA;;;;;;;;;;;;;;;;;AAIA;AACA;AAAA;;AACA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AACA;;;;;;AAEA;AAAA;AAAA;;;;;;;;;;;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;AARA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBA;AAEA","sources":["webpack://@tat/common-library/./src/dropdown/Dropdown.css","webpack://@tat/common-library/./node_modules/lucide-react/dist/esm/Icon.js","webpack://@tat/common-library/./node_modules/lucide-react/dist/esm/createLucideIcon.js","webpack://@tat/common-library/./node_modules/lucide-react/dist/esm/defaultAttributes.js","webpack://@tat/common-library/./node_modules/lucide-react/dist/esm/icons/search.js","webpack://@tat/common-library/./node_modules/lucide-react/dist/esm/icons/x.js","webpack://@tat/common-library/./node_modules/lucide-react/dist/esm/shared/src/utils.js","webpack://@tat/common-library/./src/dropdown/Dropdown.css?4efe","webpack://@tat/common-library/./src/dropdown/Dropdown.stories.tsx","webpack://@tat/common-library/./src/dropdown/Dropdown.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.search {\n  position: absolute;\n  top: 15%;\n  right: 1rem;\n}\n\n.menu {\n  width: 100%;\n}\n\n#search {\n  position: relative;\n}\n\n.menu-options {\n  max-height: 150px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/dropdown/Dropdown.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB\",\"sourcesContent\":[\".search {\\n  position: absolute;\\n  top: 15%;\\n  right: 1rem;\\n}\\n\\n.menu {\\n  width: 100%;\\n}\\n\\n#search {\\n  position: relative;\\n}\\n\\n.menu-options {\\n  max-height: 150px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses, hasA11yProp } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => createElement(\n    \"svg\",\n    {\n      ref,\n      ...defaultAttributes,\n      width: size,\n      height: size,\n      stroke: color,\n      strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n      className: mergeClasses(\"lucide\", className),\n      ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n      ...rest\n    },\n    [\n      ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n      ...Array.isArray(children) ? children : [children]\n    ]\n  )\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 21-4.34-4.34\", key: \"14j7rj\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }]\n];\nconst Search = createLucideIcon(\"search\", __iconNode);\n\nexport { __iconNode, Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n];\nconst X = createLucideIcon(\"x\", __iconNode);\n\nexport { __iconNode, X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.525.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\nconst hasA11yProp = (props) => {\n  for (const prop in props) {\n    if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n      return true;\n    }\n  }\n};\n\nexport { hasA11yProp, mergeClasses, toCamelCase, toKebabCase, toPascalCase };\n//# sourceMappingURL=utils.js.map\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./Dropdown.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n  var p;\n  for (p in a) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n  for (p in b) {\n    if (isNamedExport && p === \"default\") {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n    if (!a[p]) {\n      return false;\n    }\n  }\n  return true;\n};\n    var isNamedExport = !content.locals;\n    var oldLocals = isNamedExport ? namedExport : content.locals;\n\n    module.hot.accept(\n      \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./Dropdown.css\",\n      function () {\n        if (!isEqualLocals(oldLocals, isNamedExport ? namedExport : content.locals, isNamedExport)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = isNamedExport ? namedExport : content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./Dropdown.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { Meta, StoryObj } from \"@storybook/react\";\nimport Dropdown from \"./Dropdown\";\n\nconst meta: Meta<typeof Dropdown> = {\n  component: Dropdown,\n  title: \"Components/Dropdown\",\n};\n\nexport default meta;\ntype Story = StoryObj<typeof Dropdown>;\n\nexport const Default: Story = {\n  args: {\n    id: \"itemList\",\n    value: \"\",\n    isLoading: false,\n    list: [\n      { id: \"1\", label: \"Item 1\" },\n      { id: \"2\", label: \"Item 2\" },\n      { id: \"3\", label: \"Item 3\" },\n    ],\n    placeholder: \"-- Select an option --\",\n    loadingMessage: \"Loading...\",\n    noDataMessage: \"No matches found\",\n    handleOnClick: () => {},\n  },\n};\n\nexport const Loading: Story = {\n  args: {\n    id: \"itemList\",\n    value: \"\",\n    isLoading: true,\n    list: [\n      { id: \"1\", label: \"Item 1\" },\n      { id: \"2\", label: \"Item 2\" },\n      { id: \"3\", label: \"Item 3\" },\n    ],\n    placeholder: \"-- Select an option --\",\n    loadingMessage: \"Loading...\",\n    noDataMessage: \"No matches found\",\n    handleOnClick: () => {},\n  },\n};\n","import { ChevronDown, Search, X } from \"lucide-react\";\nimport { FC, memo, useEffect, useRef, useState } from \"react\";\n\nimport \"./Dropdown.css\";\n\nexport interface DropdownType {\n  id: string;\n  label: string;\n}\n\ninterface DropdownProps {\n  id?: string;\n  value?: string;\n  isLoading?: boolean;\n  list: DropdownType[];\n  placeholder: string;\n  loadingMessage: string;\n  noDataMessage?: string;\n  handleOnClick: (dropdownId: string, item: DropdownType) => void;\n}\n\nconst Dropdown: FC<DropdownProps> = ({\n  id = \"itemList\",\n  value,\n  isLoading,\n  list,\n  placeholder,\n  loadingMessage,\n  noDataMessage = \"No matches found\",\n  handleOnClick,\n}) => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [dropdownList, setDropdownList] = useState<DropdownType[]>([]);\n  const [selectedItem, setSelectedItem] = useState<string>(placeholder);\n  const [search, setSearch] = useState<string>(\"\");\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleOnSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value;\n    setSearch(value);\n  };\n\n  const handleToggleClick = (e: React.MouseEvent) => {\n    setIsOpen(!isOpen);\n    setTimeout(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, 100);\n    document.querySelectorAll(\".dropdown-menu\").forEach((menu) => {\n      if (menu.id !== id) {\n        menu.classList.remove(\"show\");\n      }\n    });\n  };\n\n  const handleClear = (e: React.MouseEvent) => {\n    handleOnClick(id, { id: \"\", label: \"\" });\n    setSelectedItem(placeholder);\n    setIsOpen(false);\n    e.stopPropagation();\n  };\n\n  useEffect(() => {\n    if (search) {\n      const filteredList = list.filter((item) =>\n        item.label.toLocaleLowerCase().includes(search.toLocaleLowerCase())\n      );\n      setDropdownList(filteredList);\n    } else {\n      setDropdownList(list);\n    }\n  }, [list, search]);\n\n  useEffect(() => {\n    if (value) {\n      const selectedItem = list.find((item) => item.id === value);\n      if (selectedItem) {\n        setSelectedItem(selectedItem.label);\n      }\n    } else {\n      setSelectedItem(placeholder);\n    }\n  }, [value]);\n\n  useEffect(() => {\n    const handleOutsideClick = (e: MouseEvent) => {\n      const dropdownMenu = document.getElementById(id);\n      const target = e.target as Element;\n      const toggleButton = target.closest(\"button\");\n      const inputElement = document.getElementById(\"search\");\n      const searchInput = document.querySelector(\"#search input\");\n      if (\n        !dropdownMenu?.contains(target) &&\n        toggleButton !== target &&\n        inputElement?.contains(target) === false &&\n        searchInput !== target\n      ) {\n        setIsOpen(false);\n      }\n    };\n\n    if (document) {\n      document.addEventListener(\"click\", handleOutsideClick);\n    }\n\n    return () => {\n      if (document) {\n        document.removeEventListener(\"click\", handleOutsideClick);\n      }\n    };\n  }, [isOpen]);\n\n  return (\n    <div className=\"mb-3\">\n      <div className=\"dropdown\">\n        <button\n          className=\"btn btn-secondary dropdown-toggle btnClass d-flex align-items-center justify-content-between col-md-12 col-sm-12\"\n          type=\"button\"\n          aria-expanded=\"false\"\n          data-bs-target={`#${id}`}\n          onClick={handleToggleClick}\n          disabled={isLoading || (dropdownList.length === 0 && search === \"\")}\n        >\n          <span\n            id={id}\n            className=\"w-100 d-flex align-items-center justify-content-between\"\n            onClick={handleToggleClick}\n          >\n            {isLoading ? (\n              <>\n                {loadingMessage}\n                <div\n                  className=\"spinner-border loadingClass\"\n                  role=\"status\"\n                ></div>\n              </>\n            ) : dropdownList.length === 0 && search === \"\" ? (\n              noDataMessage\n            ) : (\n              <span className=\"text-light\">{selectedItem}</span>\n            )}\n            {selectedItem !== placeholder && (\n              <X height=\"16px\" onClick={handleClear} />\n            )}\n          </span>\n        </button>\n        {isOpen && (\n          <div id={id} className={`${isOpen ? \"show\" : \"\"} menu dropdown-menu`}>\n            <div id=\"search\" className=\"px-3 pb-2\">\n              <input\n                className=\"w-100 small\"\n                placeholder=\"Search\"\n                onChange={handleOnSearch}\n                ref={inputRef}\n              />\n              <Search height=\"16px\" className=\"search\" />\n            </div>\n            <div className=\"menu-options overflow-auto \">\n              {dropdownList.map((item, index) => (\n                <div key={index} className=\"small\">\n                  <a\n                    className=\"dropdown-item\"\n                    onClick={() => {\n                      setSelectedItem(item.label);\n                      handleOnClick(id, item);\n                    }}\n                  >\n                    {item.label}\n                  </a>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Dropdown);\n"],"names":[],"sourceRoot":""}