"use strict";
self["webpackHotUpdate_tat_common_library"]("dropdown-Dropdown-stories",{

/***/ "./src/dropdown/Dropdown.tsx":
/*!***********************************!*\
  !*** ./src/dropdown/Dropdown.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/search.js");
/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lucide-react */ "./node_modules/lucide-react/dist/esm/icons/x.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Dropdown_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Dropdown.css */ "./src/dropdown/Dropdown.css");




const Dropdown = ({ id = "itemList", value, isLoading, list, placeholder, loadingMessage, noDataMessage = "No matches found", handleOnClick })=>{
    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);
    const [dropdownList, setDropdownList] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);
    const [selectedItem, setSelectedItem] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(placeholder);
    const [search, setSearch] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");
    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);
    const handleOnSearch = (e)=>{
        const value = e.currentTarget.value;
        setSearch(value);
    };
    const handleToggleClick = (e)=>{
        setIsOpen(!isOpen);
        setTimeout(()=>{
            if (inputRef.current) {
                inputRef.current.focus();
            }
        }, 100);
        document.querySelectorAll(".dropdown-menu").forEach((menu)=>{
            if (menu.id !== id) {
                menu.classList.remove("show");
            }
        });
    };
    const handleClear = (e)=>{
        handleOnClick(id, {
            id: "",
            label: ""
        });
        setSelectedItem(placeholder);
        setIsOpen(false);
        e.stopPropagation();
    };
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{
        if (search) {
            const filteredList = list.filter((item)=>item.label.toLocaleLowerCase().includes(search.toLocaleLowerCase()));
            setDropdownList(filteredList);
        } else {
            setDropdownList(list);
        }
    }, [
        list,
        search
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{
        if (value) {
            const selectedItem = list.find((item)=>item.id === value);
            if (selectedItem) {
                setSelectedItem(selectedItem.label);
            }
        } else {
            setSelectedItem(placeholder);
        }
    }, [
        value
    ]);
    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{
        const handleOutsideClick = (e)=>{
            const dropdownMenu = document.getElementById(id);
            const target = e.target;
            const toggleButton = target.closest("button");
            const inputElement = document.getElementById("search");
            const searchInput = document.querySelector("#search input");
            if (!dropdownMenu?.contains(target) && toggleButton !== target && inputElement?.contains(target) === false && searchInput !== target) {
                setIsOpen(false);
            }
        };
        if (document) {
            document.addEventListener("click", handleOutsideClick);
        }
        return ()=>{
            if (document) {
                document.removeEventListener("click", handleOutsideClick);
            }
        };
    }, [
        isOpen
    ]);
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: "mb-3",
        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
            className: "dropdown",
            children: [
                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("button", {
                    className: "btn btn-secondary dropdown-toggle btnClass d-flex align-items-center justify-content-between col-md-12 col-sm-12",
                    type: "button",
                    "aria-expanded": "false",
                    "data-bs-target": `#${id}`,
                    onClick: handleToggleClick,
                    disabled: isLoading || dropdownList.length === 0 && search === "",
                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                        id: id,
                        className: "w-100 d-flex align-items-center justify-content-between",
                        onClick: handleToggleClick,
                        children: [
                            isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {
                                children: [
                                    loadingMessage,
                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                        className: "spinner-border loadingClass",
                                        role: "status"
                                    }, void 0, false, {
                                        fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                                        lineNumber: 134,
                                        columnNumber: 17
                                    }, undefined)
                                ]
                            }, void 0, true) : dropdownList.length === 0 && search === "" ? noDataMessage : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                className: "text-light",
                                children: selectedItem
                            }, void 0, false, {
                                fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                                lineNumber: 142,
                                columnNumber: 15
                            }, undefined),
                            selectedItem !== placeholder && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(lucide_react__WEBPACK_IMPORTED_MODULE_2__["default"], {
                                height: "16px",
                                onClick: handleClear
                            }, void 0, false, {
                                fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                                lineNumber: 145,
                                columnNumber: 15
                            }, undefined)
                        ]
                    }, void 0, true, {
                        fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                        lineNumber: 126,
                        columnNumber: 11
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                    lineNumber: 118,
                    columnNumber: 9
                }, undefined),
                isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                    id: id,
                    className: `${isOpen ? "show" : ""} menu dropdown-menu`,
                    children: [
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            id: "search",
                            className: "px-3 pb-2",
                            children: [
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("input", {
                                    className: "w-100 small",
                                    placeholder: "Search",
                                    onChange: handleOnSearch,
                                    ref: inputRef
                                }, void 0, false, {
                                    fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                                    lineNumber: 152,
                                    columnNumber: 15
                                }, undefined),
                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(lucide_react__WEBPACK_IMPORTED_MODULE_1__["default"], {
                                    height: "16px",
                                    className: "search"
                                }, void 0, false, {
                                    fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                                    lineNumber: 158,
                                    columnNumber: 15
                                }, undefined)
                            ]
                        }, void 0, true, {
                            fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                            lineNumber: 151,
                            columnNumber: 13
                        }, undefined),
                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                            className: "menu-options overflow-auto ",
                            children: dropdownList.map((item, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                    className: "small",
                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("a", {
                                        className: "dropdown-item",
                                        onClick: ()=>{
                                            setSelectedItem(item.label);
                                            handleOnClick(id, item);
                                        },
                                        children: item.label
                                    }, void 0, false, {
                                        fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                                        lineNumber: 163,
                                        columnNumber: 19
                                    }, undefined)
                                }, index, false, {
                                    fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                                    lineNumber: 162,
                                    columnNumber: 17
                                }, undefined))
                        }, void 0, false, {
                            fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                            lineNumber: 160,
                            columnNumber: 13
                        }, undefined)
                    ]
                }, void 0, true, {
                    fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
                    lineNumber: 150,
                    columnNumber: 11
                }, undefined)
            ]
        }, void 0, true, {
            fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
            lineNumber: 117,
            columnNumber: 7
        }, undefined)
    }, void 0, false, {
        fileName: "/Users/christianpauloller/Documents/widgets/common-library/src/dropdown/Dropdown.tsx",
        lineNumber: 116,
        columnNumber: 5
    }, undefined);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)(Dropdown));
Dropdown.__docgenInfo = {
    "description": "",
    "methods": [],
    "displayName": "Dropdown",
    "props": {
        "id": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": "",
            "defaultValue": {
                "value": "\"itemList\"",
                "computed": false
            }
        },
        "value": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": ""
        },
        "isLoading": {
            "required": false,
            "tsType": {
                "name": "boolean"
            },
            "description": ""
        },
        "list": {
            "required": true,
            "tsType": {
                "name": "Array",
                "elements": [
                    {
                        "name": "DropdownType"
                    }
                ],
                "raw": "DropdownType[]"
            },
            "description": ""
        },
        "placeholder": {
            "required": true,
            "tsType": {
                "name": "string"
            },
            "description": ""
        },
        "loadingMessage": {
            "required": true,
            "tsType": {
                "name": "string"
            },
            "description": ""
        },
        "noDataMessage": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": "",
            "defaultValue": {
                "value": "\"No matches found\"",
                "computed": false
            }
        },
        "handleOnClick": {
            "required": true,
            "tsType": {
                "name": "signature",
                "type": "function",
                "raw": "(dropdownId: string, item: DropdownType) => void",
                "signature": {
                    "arguments": [
                        {
                            "type": {
                                "name": "string"
                            },
                            "name": "dropdownId"
                        },
                        {
                            "type": {
                                "name": "DropdownType"
                            },
                            "name": "item"
                        }
                    ],
                    "return": {
                        "name": "void"
                    }
                }
            },
            "description": ""
        }
    }
};


/***/ })

});
//# sourceMappingURL=dropdown-Dropdown-stories.99977be9dc54c2aae099.hot-update.js.map